{% extends "base.html" %}

{% block title %}Login - GenConnect{% endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    /* --- RESET & LAYOUT --- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
        background-color: #f1f5f9;
        font-family: 'Outfit', sans-serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    /* --- FIXED HEADER WITH LINE --- */
    .auth-header {
        width: 100%;
        padding: 15px 40px; /* Slightly tighter padding */
        display: flex;
        justify-content: space-between;
        align-items: center;
        
        /* FIX 2: Added White Background & Grey Border Line */
        background-color: white; 
        border-bottom: 1px solid #e2e8f0; 
        
        z-index: 10;
    }

    .header-logo {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        /* Removed fixed color here so spans work */
        font-weight: 700;
        font-size: 22px;
    }

    /* FIX 1: Brand Colors for Text */
    .text-gen { color:#6366f1;font-size: 20px;font-weight: 600;}
    .text-connect { color:#6366f1;font-size: 20px;font-weight: 600;}

    .header-btn {
        padding: 10px 24px;
        background-color: #4f46e5;
        color: white;
        border-radius: 8px;
        font-weight: 600;
        font-size: 14px;
        text-decoration: none;
        transition: transform 0.2s, background-color 0.2s;
    }

    .header-btn:hover {
        background-color: #4338ca;
        transform: translateY(-1px);
    }

    /* --- CENTERED CONTENT WRAPPER --- */
    .main-container {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px 20px; /* Added padding so it doesn't touch edges */
        width: 100%;
    }

    /* --- LOGIN CARD --- */
    .login-card {
        display: flex;
        width: 100%;
        max-width: 1000px;
        background: white;
        border-radius: 24px;
        box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        min-height: 600px;
    }

    /* --- LEFT PANEL: HERO --- */
    .hero-panel {
        flex: 1;
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px;
        color: white;
        text-align: center;
        overflow: hidden;
    }

    /* Decorative Bubbles */
    .bubble {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        backdrop-filter: blur(5px);
    }
    .b1 { width: 150px; height: 150px; top: -30px; right: -30px; }
    .b2 { width: 80px; height: 80px; bottom: 60px; left: 40px; }
    .b3 { width: 40px; height: 40px; top: 40%; left: 20%; opacity: 0.6; }

    .hero-content { position: relative; z-index: 2; }

    .hero-icon-box {
        width: 80px; height: 80px;
        background: white;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 24px;
        color: #4f46e5;
        box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }

    .hero-title { font-size: 32px; font-weight: 700; margin-bottom: 12px; }
    .hero-text { font-size: 16px; opacity: 0.9; line-height: 1.6; max-width: 320px; margin: 0 auto; }

    /* --- RIGHT PANEL: FORM --- */
    .form-panel {
        flex: 1;
        padding: 60px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        background: white;
    }

    .form-header { margin-bottom: 32px; }
    .welcome-text { font-size: 28px; font-weight: 700; color: #1e293b; margin-bottom: 8px; }
    .sub-text { color: #64748b; font-size: 15px; }

    .form-group { margin-bottom: 20px; }
    
    .form-label {
        display: block; font-size: 13px; font-weight: 600; color: #475569; margin-bottom: 8px;
    }

    .form-control {
        width: 100%; padding: 14px 16px;
        border: 2px solid #e2e8f0; border-radius: 12px;
        font-size: 15px; font-family: inherit;
        background: #f8fafc; transition: all 0.2s; color: #1e293b;
    }

    .form-control:focus {
        background: white; border-color: #6366f1;
        outline: none; box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
    }

    .form-actions {
        display: flex; justify-content: space-between; align-items: center;
        margin-bottom: 30px; font-size: 14px;
    }

    .checkbox-wrapper {
        display: flex; align-items: center; gap: 8px; cursor: pointer;
        color: #64748b; font-weight: 500;
    }
    
    .forgot-link { color: #4f46e5; font-weight: 600; text-decoration: none; }
    .forgot-link:hover { text-decoration: underline; }

    .btn-submit {
        width: 100%; padding: 16px;
        background: linear-gradient(to right, #4f46e5, #4338ca);
        color: white; border: none; border-radius: 12px;
        font-size: 16px; font-weight: 600; cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
    }

    .signup-area { margin-top: 24px; text-align: center; font-size: 14px; color: #64748b; }
    .signup-link { color: #4f46e5; font-weight: 600; text-decoration: none; }

    @media (max-width: 900px) {
        .auth-header { padding: 15px 20px; }
        .login-card { flex-direction: column; max-width: 500px; min-height: auto; }
        .hero-panel { display: none; }
        .form-panel { padding: 40px 30px; }
    }
</style>
{% endblock %}

{% block content %}
<header class="auth-header">
    <a href="/" class="header-logo">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            <path d="M2 17l10 5 10-5"/>
            <path d="M2 12l10 5 10-5"/>
        </svg>
        
        <span>
            <span class="text-gen">Gen</span><span class="text-connect">Connect</span>
        </span>
    </a>
    <a href="{{ url_for('signup') }}" class="header-btn">Sign up</a>
</header>

<div class="main-container">
    <div class="login-card">
        
        <div class="hero-panel">
            <div class="bubble b1"></div>
            <div class="bubble b2"></div>
            <div class="bubble b3"></div>

            <div class="hero-content">
                <div class="hero-icon-box">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                </div>
                <h1 class="hero-title">Welcome Back!</h1>
                <p class="hero-text">Connecting generations, one story at a time. Join our community today.</p>
            </div>
        </div>

        <div class="form-panel">
            <div class="form-header">
                <h2 class="welcome-text">Log In</h2>
                <p class="sub-text">Please enter your details to access your account.</p>
            </div>

            <form method="POST" action="{{ url_for('login') }}">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" name="email" class="form-control" placeholder="Enter your email" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" name="password" class="form-control" placeholder="Password" required>
                </div>

                <div class="form-actions">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" name="remember">
                        <span>Remember me</span>
                    </label>
                    <a href="{{ url_for('forgot_password') }}" class="forgot-link">Forgot Password?</a>
                </div>

                <button type="submit" class="btn-submit">Sign In</button>
            </form>

            <div class="signup-area">
                Don't have an account? <a href="{{ url_for('signup') }}" class="signup-link">Sign up</a>
            </div>
        </div>

    </div>
</div>
{% endblock %}